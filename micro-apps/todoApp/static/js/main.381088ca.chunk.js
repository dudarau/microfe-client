(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){},106:function(e,t,n){},108:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var r=n(15),o=n.n(r),c=n(93),a=n.n(c),i=(n(104),n(55)),u=n(75),d=n(95),s=n(94),f=n(96),p=(n(106),n(12)),l="GET_TODOS",b="GET_TODOS_OK",v="GET_TODOS_ERR",O="FILTER_TODOS",y="ADD_TODO",h="ADD_TODO_OK",j="ADD_TODO_ERR",m="UPDATE_TODO",g="UPDATE_TODO_OK";var w=n(115),D=n(19),E=n(116),T=n(90);function S(e,t){var n=localStorage.getItem(e);return n?JSON.parse(n):t||void 0}function _(e,t){localStorage.setItem(e,JSON.stringify(t))}var k=new function e(t,n){Object(i.a)(this,e),this.onGetToDos=Object(p.Effect)()(n.pipe(Object(p.ofType)(l)).pipe(Object(w.a)(function(){return t.getToDos()}))),this.onAddToDo=Object(p.Effect)()(n.pipe(Object(p.ofType)(y)).pipe(Object(w.a)(function(e){return t.addToDos(e.payload)}))),this.onUpdateToDo=Object(p.Effect)()(n.pipe(Object(p.ofType)(m)).pipe(Object(w.a)(function(e){return t.updateToDos(e.payload)})))}(new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"getToDos",value:function(){return Object(E.a)(S("todo_db",[])).pipe(Object(T.a)(function(e){return function(e){return{type:b,payload:e}}(e)}))}},{key:"addToDos",value:function(e){var t=S("todo_db",[]),n={id:(new Date).getTime(),isDone:!1,task:e};return t.push(n),_("todo_db",t),Object(E.a)(n).pipe(Object(T.a)(function(e){return function(e){return{type:h,payload:e}}(n)}))}},{key:"updateToDos",value:function(e){var t=S("todo_db",[]),n=t.findIndex(function(t){return t.id===e.id});return n>-1&&(t[n]=Object(D.a)({},t[n],e)),_("todo_db",t),Object(E.a)(t[n]).pipe(Object(T.a)(function(e){return{type:g,payload:e}}))}}]),e}()),p.actions$),A=n(91),N={pending:!1,error:void 0,todos:[],filter:"uncompleted"},I={pending:!1,error:void 0,todo:void 0};var C=Object(p.combineReducers)({todoList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(D.a)({},e,{pending:!0});case b:return Object(D.a)({},e,{pending:!1,todos:t.payload});case v:return Object(D.a)({},e,{pending:!1,error:t.payload});case O:return Object(D.a)({},e,{filter:t.payload});case h:return Object(D.a)({},e,{pending:!1,todos:Object(A.a)(e.todos).concat([t.payload])});case m:var n=Object(A.a)(e.todos),r=n.findIndex(function(e){return e.id===t.payload.id});return r>-1&&(n[r]=Object(D.a)({},n[r],t.payload)),Object(D.a)({},e,{todos:n});default:return e}},todoItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(D.a)({},e,{pending:!0});case h:return Object(D.a)({},e,{pending:!1,todo:t.payload});case j:return Object(D.a)({},e,{pending:!1,error:t.payload});default:return e}}}),x=Object(p.createStore)(Object(p.combineReducers)({todos:C}),{},Object(p.applyMiddleware)(Object(p.effectsMiddleware)(k),Object(p.devToolsMiddleware)())),M=function(e){return e.todos},R=Object(p.createSelector)(M,function(e){return Object(D.a)({},e.todoList)}),P=Object(p.createSelector)(R,function(e){return e.filter}),J=Object(p.createSelector)(R,function(e){return e.todos.filter(function(t){switch(e.filter){case"all":return!0;case"completed":return t.isDone;case"uncompleted":return!t.isDone;default:return!0}})}),U=(Object(p.createSelector)(R,function(e){return e.pending}),Object(p.createSelector)(M,function(e){return e.todoItem.pending}),Object(p.connect)({filter:x.select(P)})(function(e){var t=e.filter,n=void 0;function r(e){var t;x.dispatch((t=e.target.value,{type:O,payload:t}))}return o.a.createElement("div",{className:"todo-header-container"},o.a.createElement("div",{className:"input-container"},o.a.createElement("input",{name:"todo-input",type:"text",onChange:function(e){var t=e.target;n=t.value}}),o.a.createElement("button",{onClick:function(){n&&""!==n&&x.dispatch({type:y,payload:n})}},"Add")),o.a.createElement("div",{className:"tab-container"},o.a.createElement("button",{type:"button",disabled:"all"===t,onClick:r,value:"all"},"All"),o.a.createElement("button",{type:"button",disabled:"completed"===t,onClick:r,value:"completed"},"Completed"),o.a.createElement("button",{type:"button",disabled:"uncompleted"===t,onClick:r,value:"uncompleted"},"Uncompleted")))})),G=(n(108),function(e){var t=e.todo;return o.a.createElement("div",{className:"list-item"},o.a.createElement("input",{type:"checkbox",defaultChecked:t.isDone,onChange:function(){x.dispatch(function(e){return{type:m,payload:e}}(Object(D.a)({},t,{isDone:!t.isDone})))}}),o.a.createElement("span",{className:t.isDone?"done":"undone"},t.task))}),L={todos:x.select(J)},B=Object(p.connect)(L)(function(e){var t=e.todos;return o.a.createElement("div",{className:"todo-page"},o.a.createElement(U,null),t?t.map(function(e){return o.a.createElement(G,{key:e.id,todo:e})}):void 0)}),K=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){x.dispatch({type:l})}},{key:"render",value:function(){return o.a.createElement(B,null)}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(K,null),container || document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(111),c=n(110),a=(r=n(87))&&"object"===typeof r&&"default"in r?r.default:r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}var d=function(){function e(e,t){i(this,"state",new o.BehaviorSubject({})),i(this,"reducer",void 0),this.state.next(t),this.reducer=e}var t=e.prototype;return t.dispatch=function(e){this.state.next(this.reducer(this.getState(),e))},t.select=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t&&1===t.length&&"function"===typeof t[0]?this.state.pipe(c.map(t[0])):this.state.pipe(c.pluck.apply(void 0,t))},t.getState=function(){return this.state.value},t.subscribe=function(){return this.state.subscribe},e}();var s=new o.Subject;t.createStore=function(e,t,n){var r=new d(e,t);return(r=n?n(function(){return r})(e,t):new d(e,t)).dispatch({type:"@@store INIT"}),r},t.createSelector=function(){for(var e=void 0,t=void 0,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var c=r[r.length-1],a=r.slice(0,r.length-1).reverse().reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}},c);return function(n){return function e(t,n){if(!t||!n)return!1;for(var r in t)if(!(r in n))return!1;for(var o in n){if("object"===typeof t[o]&&!e(t[o],n[o]))return!1;if("function"===typeof t[o]&&"undefined"!==typeof n[o]&&t[o].toStrig()!==n[o].toString())return!1;if(t[o]!==n[o])return!1}for(var c in n)if(!(c in t))return!1;return!0}(n,e)||(t=a(n),e=u({},n)),t}},t.combineReducers=function(e){return function(t,n){return void 0===t&&(t={}),Object.keys(e).reduce(function(r,o){var c;return u({},r,((c={})[o]=e[o](t[o],n)||void 0,c))},{})}},t.devToolsMiddleware=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION__.connect(e);return function(e){return t.subscribe(function(n){switch(n.type){case"ACTION":var r=JSON.parse(n.payload);e.dispatch(r),t.send(r,e.getState());break;case"DISPATCH":var o=JSON.parse(n.state);e.state.next(o)}}),function(n){return function(r){var o=n(r);return t.send(r,e.getState()),o}}}},t.effectsMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){return o.merge.apply(void 0,function(e){return e.reduce(function(e,t){return Object.keys(t).map(function(e){return t[e]}).filter(function(e){return e.type&&"effect"===e.type}).forEach(function(t){return e.push(t.subject)}),e},[])}(t)).subscribe(function(t){e.dispatch(t)}),function(e){var t=n(e);return s.next(e),t}}}},t.Effect=function(e){return function(t){return u({},e,{subject:t,type:"effect"})}},t.ofType=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.filter(function(e){return t.includes(e.type)})},t.actions$=s,t.connect=function(e){return function(t){return function(n){var r,o;function c(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))||this).subscriptions={},t.state=Object.keys(e).reduce(function(e,t){var n;return u({},e,((n={})[t]=void 0,n))},{}),t}o=n,(r=c).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o;var i=c.prototype;return i.proc=function(e){e.method()},i.componentDidMount=function(){var t=this;this.subscriptions=Object.keys(e).reduce(function(n,r){var o;return u({},n,((o={})[r]=e[r].subscribe(function(e){var n;t.setState(((n={})[r]=e,n))}),o))},{})},i.componentWillUnmount=function(){var e=this;Object.keys(this.subscriptions).forEach(function(t){e.subscriptions[t].unsubscribe()})},i.render=function(){var n=u({},this.props,{observables:u({},e)},this.state);return"function"!==typeof t&&(n.ref=this.proc.bind(this)),a.createElement(t,u({},n),null)},c}(a.Component)}},t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments);return n.dispatch=t.map(function(e){return e({getState:n.getState.bind(n),dispatch:n.dispatch.bind(n)})}).reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})(n.dispatch.bind(n)),n}}}},98:function(e,t,n){e.exports=n(112)}},[[98,2,1]]]);